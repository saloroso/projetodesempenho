<!DOCTYPE html>
<html lang="en">

<head> <!-- INÍCIO DO HEAD -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Avaliação de Desempenho 2.0</title> <!-- Font Awesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet"> <!-- Material Design Bootstrap -->
  <link href="css/mdb.min.css" rel="stylesheet"> <!-- Your custom styles (optional) -->
  <link href="css/style.css" rel="stylesheet">
  </head> <!-- FIM DO HEAD -->

<body> 
   <!--Começo do Main Navigation-->
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark elegant-color">
      <a class="navbar-brand" href="#">Disciplina HTML 5</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="https://saloroso.github.io/projetodesempenho/">Como Funciona
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://saloroso.github.io/projetodesempenho/formulario">Preencher Formulário</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="https://saloroso.github.io/projetodesempenho/loginadm">Portal do Líder</a>
            <span class="sr-only">(current)</span>
          </li>
        </ul>
        <span class="navbar-text white-text">
          AVALIAÇÃO DE DESEMPENHO
        </span>
      </div>
    </nav>
  </header>
<!-- Fim do Main Navigation-->
  
  
  <!--ANOTAÇÕES-->
  <!--MD É MEDIUM E DETERMINA PARA DESKTOP, O QUE IMPORTA AQUI; O TAMANHO É DE 1 A 12 CONFORME QUANTIDADE DE COLUNAS PRA OCUPAR.-->
  
    <!--Main layout-->
  <main>
<div class="container">  <!--Container Principal-->
  <br>
  <div class="row">   <!-- Começo da 1º Linha-->
      <div class="col-md-4 mb-4 mt-4 ml1"> <!-- Começo da 1º Coluna-->        
      <div class="card">  <!-- Começo do Card-->
      <div class="card-body">     
        <h4 class="card-title">PERFIL</h4>
        <form>
          <!-- Trecho -->
          <div class="md-form form-group mt-5">
            <input type="text" class="form-control" id="Nome_lider" placeholder="Nome do Líder." disabled>
          </div>
          <!-- Trecho -->
          <div class="md-form form-group mt-5">
            <input type="text" class="form-control" id="Email_lider" placeholder="E-mail do Líder." disabled>
            <label for="formGroupExampleInput2MD">E-mail:</label>
          </div>
          <!-- Trecho -->
          <div class="md-form form-group mt-5">
            <input type="text" class="form-control" id="Equipe_lider" placeholder="Tamanho da Equipe." disabled>
            <label for="formGroupExampleInput2MD">Membros na equipe:</label>
          </div>
          <!-- Trecho -->
          <div class="md-form form-group mt-5">
            <input type="text" class="form-control" id="Preenchidos_lider" placeholder="Formulários Preenchidos." disabled>
            <label for="formGroupExampleInput2MD">Formulários preenchidos:</label>
          </div>
        </form>
        
        <p class="h6 mb-2 text-left ">PROGRESSO</p>
        <div class="progress">
          <div class="progress-bar" id="barra1" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </div>
    </div> <!-- Fim do Card-->
           
      </div> <!-- Fim da 1ª Coluna-->

    
      <div class="col-md-8 mb-4 mt-4 ml1"> <!--Começo do 2ª Coluna-->

         <div class="card">  <!-- Começo do Card-->
      <div class="card-body">     
          <h4 class="card-title-center">EQUIPE</h4>  
      <div id="series_chart_div" style="width: 680px; height: 400px;"></div> <!-- Função para criar o Gráfico. -->
      </div>
    </div> <!-- Fim do Card-->
        
      </div> <!--Fim da 2ª Coluna-->
  </div> <!-- Fim da 1º Linha-->

  <div class="row">   <!-- Começo da 2º Linha-->
      <div class="col-md-4 mb-4 mt-4 ml1"> <!-- Começo da 3º Coluna-->
        
     <div class="card">  <!-- Começo do Card-->  
     <div class="card-body">     
        <h4 class="card-title">CADASTRAR MEMBRO</h4>
        <form>
          <!-- Trecho -->
          <div class="md-form form-group mt-5">
            <input type="text" class="form-control" id="Nome_liderado" placeholder="Nome do liderado." >
            <label for="formGroupExampleInputMD">Nome:</label>
          </div>
          <!-- Trecho -->
          <div class="md-form form-group mt-5">
            <input type="text" class="form-control" id="Codigo_formulario" placeholder="Código p/ formuláio." >
            <label for="formGroupExampleInput2MD">Código:</label>
          </div>
          <!-- Trecho -->
          <div class="md-form form-group mt-5">
            <input type="text" class="form-control" id="Cargo_liderado" placeholder="Cargo do liderado." >
            <label for="formGroupExampleInput2MD">Cargo:</label>
          </div>
          <!-- Trecho -->
          <div class="md-form form-group mt-5">
            <input type="text" class="form-control" id="Desempenho_liderado" placeholder="Desempenho do liderado." >
            <label for="formGroupExampleInput2MD">Desempenho:</label>
          </div>
        </form>
     <button class="btn btn-dark my-4" type="button" onclick="">ENVIAR FORMULÁRIO</button>
         </div>
    </div> <!-- Fim do Card-->  
      </div> <!-- Fim da 3ª Coluna-->

    
      <div class="col-md-8 mb-4 mt-4 ml1"> <!--Começo do 4ª Coluna-->

               <div class="card">  <!-- Começo do Card-->
      <div class="card-body">     
        <h4 class="card-title">Texto 4 - Título</h4>  
        <!--Text-->
        <p class="card-text">-Texto4.</p>  <!--Text-->
      </div>
    </div> <!-- Fim do Card-->
   
      </div> <!--Fim da 4ª Coluna-->
  </div> <!-- Fim da 2º Linha-->
  
</div>
<!--Main container-->
  </main>
  <!--Main layout-->

  <div id="columnchart_material" style="width: 800px; height: 500px;"></div>
  

  
  <!-- SCRIPTS -->
  <!-- JQuery -->
  <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="js/mdb.min.js"></script>
    <!-- Script Próprio -->
  <script type="text/javascript" src="js/jsproprio.min.js"> </script>  
   <!-- Script do Google Charts -->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

  <script type="text/javascript"> // SCRIPT DA PRÓPRIA PÁGINA. //
        
    // Loading a partir do Session Store. 
    
    function Iniciar_tudo(){
          var listadeadms_temp = sessionStorage.getItem("BANCO_ADMS");
          listadeadms_temp = JSON.parse(listadeadms_temp); 
          if (listadeadms_temp == null){ 
          listadeadms_temp = new Array();
          sessionStorage.setItem("BANCO_ADMS", JSON.stringify(listadeadms_temp));}     
          var listadeadms = listadeadms_temp;           
          var usuariologado_temp = sessionStorage.getItem("USUARIO_LOGADO"); 
          usuariologado_temp = JSON.parse(usuariologado_temp); 
          if (usuariologado_temp == null){ 
          usuariologado_temp = "";
          sessionStorage.setItem("USUARIO_LOGADO", JSON.stringify(usuariologado_temp));} 
          var usuariologado = usuariologado_temp;
      
      // Cálculo dos campos do form seus dados.
      var email_temp;
      var equipe_temp = 0;
      var preenchidos_temp = 0;
      var tamanho_banco;
      var porcentagem;      
      tamanho_banco = listadeadms.length;         
          for (r=0;r<tamanho_banco;r++){
            if (listadeadms[r].nome==usuariologado){
              email_temp = listadeadms[r].email;
            }
          }      
            for (r=0;r<tamanho_banco;r++){
            if (listadeadms[r].nome==usuariologado){
              var tamanho_equipe;
              for (i=0;i<tamanho_equipe;i++){
                equipe_temp = equipe_temp++;
              }
            }
            }      
            for (r=0;r<tamanho_banco;r++){
              if (listadeadms[r].nome==usuariologado){
                var tamanho_equipe;
                for (i=0;i<tamanho_equipe;i++){
                  if (listadeadms[r].membros[i].respondido==1){
                    preenchidos_temp = preenchidos_temp++;
                  }
                }
              }
            }
      
      // Preenchimento dos campos do form seus dados.
      porcentagem = ((100 * preenchidos_temp)/equipe_temp);
      var passagem = ("width: " + porcentagem + "%");      
      document.getElementById("barra1").setAttribute("style", passagem);    
      document.getElementById("Nome_lider").setAttribute("value", usuariologado);
      document.getElementById("Email_lider").setAttribute("value", email_temp);
      document.getElementById("Equipe_lider").setAttribute("value", equipe_temp);
      document.getElementById("Preenchidos_lider").setAttribute("value", preenchidos_temp);
      
      // Loadings obrigatórios do google graphics da planilha 1.
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawSeriesChart);
      
      // Loadings obrigatórios do google graphics da planilha 2.
      google.charts.load('current', {'packages':['bar']});
      google.charts.setOnLoadCallback(drawChart);

      // Função que desenha o gráfico a partir da data table.
      function drawSeriesChart() {
      var data = google.visualization.arrayToDataTable([
        ['ID', 'Potencial', 'Desempenho', 'Region',     'Population'],
        ['CAN',    80.66,              1.67,      'North America',  33739900],
        ['DEU',    79.84,              1.36,      'Europe',         81902307],
        ['DNK',    78.6,               1.84,      'Europe',         5523095],
        ['EGY',    72.73,              2.78,      'Middle East',    79716203],
        ['GBR',    80.05,              2,         'Europe',         61801570],
        ['IRN',    72.49,              1.7,       'Middle East',    73137148],
        ['IRQ',    68.09,              4.77,      'Middle East',    31090763],
        ['ISR',    81.55,              2.96,      'Middle East',    7485600],
        ['RUS',    68.6,               1.54,      'Europe',         141850000],
        ['USA',    78.09,              2.05,      'North America',  307007000]
      ]);
               // Alguns dados sobre o gráfico que são opcionais.
        var options = {
        hAxis: {title: 'Desempenho'},
        vAxis: {title: 'Potencial'},
        bubble: {textStyle: {
          fontSize: 12,
          fontName: 'Calibri',
        color: 'black',
        bold: true,
        italic: false}}
      };
        
        // Função que desenha o gráfico 2 a partir da data table.
         function drawChart() {
        var data2 = google.visualization.arrayToDataTable([
          ['Year', 'Sales', 'Expenses', 'Profit'],
          ['2014', 1000, 400, 200],
          ['2015', 1170, 460, 250],
          ['2016', 660, 1120, 300],
          ['2017', 1030, 540, 350]
        ]);
        var options2 = {
          chart: {
            title: 'Company Performance',
            subtitle: 'Sales, Expenses, and Profit: 2014-2017',
          }
        };
        var chart2 = new google.charts.Bar(document.getElementById('columnchart_material'));
        chart2.draw(data2, google.charts.Bar.convertOptions(options2));
      }               
        
        
        


       // Criação do gráfico em si.
      var chart = new google.visualization.BubbleChart(document.getElementById('series_chart_div'));
      chart.draw(data, options);
    } // Encerramento da Função Draw Series Chart.
      alert ("Loading Processado 20.");
      alert ("Usuário Logado: " + usuariologado);
    } // Encerramento da Função Iniciar_Tudo.
      
  window.onload = Iniciar_tudo();

 </script>
</body>
</html>

